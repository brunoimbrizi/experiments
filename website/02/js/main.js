((function(){var a;a=function(){var a;return a=Sketch.create({particles:[],mode:0,NUM_MODES:4,NUM_PARTICLES:50,DISTANCE:30,DISTANCE_SQ:null,GRAVITY:0,WIND:0,DAMP:.9,COLOURS:["#69D2E7","#A7DBD8","#E0E4CC","#F38630","#FA6900","#FF4E50","#F9D423"],THICKNESS:23,container:document.getElementById("container"),setup:function(){return window.focus(),this.DISTANCE_SQ=this.DISTANCE*this.DISTANCE,this.initParticles()},update:function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;l=this.particles[0],l.x=a.mouse.x,l.y=a.mouse.y,!l.x&&!l.y&&(l.x=a.width*.5,l.y=a.height*.5),this.mode===1||this.mode===3?(n=0,g=this.NUM_PARTICLES-1):(n=this.NUM_PARTICLES-1,g=0),p=[];for(h=o=n;n<=g?o<=g:o>=g;h=n<=g?++o:--o){l=this.particles[h],i=this.particles[h+1],m=this.particles[h-1],h===0?m=l:h===this.NUM_PARTICLES-1&&(i=l),e=m.x-i.x,f=m.y-i.y,l.angle=atan2(f,e)+HALF_PI,l.mx=-l.thickness*cos(l.angle),l.my=-l.thickness*sin(l.angle),l.nx=l.thickness*cos(l.angle),l.ny=l.thickness*sin(l.angle);if(this.mode===1&&h===0)continue;l.vx+=this.WIND,l.vy+=this.GRAVITY,l.vx*=this.DAMP,l.vy*=this.DAMP,l.x+=l.vx,l.y+=l.vy,j=l.x,k=l.y,e=l.x-m.x,f=l.y-m.y,d=e*e+f*f,d>this.DISTANCE_SQ?(b=atan2(f,e),l.x=m.x+this.DISTANCE*cos(b),l.y=m.y+this.DISTANCE*sin(b),this.mode===3?c=.15:c=.1,l.vx+=(l.x-j)*c,p.push(l.vy+=(l.y-k)*c)):p.push(void 0)}return p},draw:function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S;a.globalCompositeOperation="lighter",a.beginPath(),a.strokeStyle=this.COLOURS[floor(a.now*3e-4%this.COLOURS.length)],a.fillStyle=a.strokeStyle,a.lineWidth=1;if(this.mode===0){O=this.particles;for(I=0,M=O.length;I<M;I++)r=O[I],a.arc(r.x,r.y,2,0,TWO_PI),a.closePath();a.fill()}if(this.mode===0||this.mode===2){a.beginPath();for(d=J=0,P=this.NUM_PARTICLES;0<=P?J<P:J>P;d=0<=P?++J:--J)r=this.particles[d],m=this.particles[d+1],A=this.particles[d-1],d===0?A=r:d===this.NUM_PARTICLES-1&&(m=r),k=r.x+(m.x-r.x)*.5,l=r.y+(m.y-r.y)*.5,this.mode===2&&(G=this.THICKNESS,F=G*cos(r.angle+HALF_PI),H=G*sin(r.angle+HALF_PI),a.arc(r.x+F,r.y+H,4,0,TWO_PI),a.arc(r.x-F,r.y-H,4,0,TWO_PI)),this.mode===0&&(G=r.thickness,a.arc(r.x+G*cos(r.angle),r.y+G*sin(r.angle),4,0,TWO_PI),a.arc(r.x-G*cos(r.angle),r.y-G*sin(r.angle),4,0,TWO_PI));a.stroke()}if(this.mode===1){a.beginPath(),f=null,h=null;for(d=K=0,Q=this.NUM_PARTICLES-1;0<=Q?K<Q:K>Q;d=0<=Q?++K:--K)r=this.particles[d],m=this.particles[d+1],A=this.particles[d-1],s=r.x+r.mx,t=r.y+r.my,n=m.x+m.mx,o=m.y+m.my,e=s+(n-s)*.5,g=t+(o-t)*.5,d===0?(a.moveTo(e,g),f=e,h=g):(B=A.x+A.mx,C=A.y+A.my,w=s+(B-s)*.5,x=t+(C-t)*.5,a.bezierCurveTo(B+cos(A.angle+HALF_PI)*10,C+sin(A.angle+HALF_PI)*10,n-cos(m.angle+HALF_PI)*10,o-sin(m.angle+HALF_PI)*10,n,o));for(d=L=R=this.NUM_PARTICLES-1;R<=0?L<0:L>0;d=R<=0?++L:--L)r=this.particles[d],m=this.particles[d-1],A=this.particles[d+1],u=r.x+r.nx,v=r.y+r.ny,p=m.x+m.nx,q=m.y+m.ny,i=u+(p-u)*.5,j=v+(q-v)*.5,d!==this.NUM_PARTICLES-1&&(D=A.x+A.nx,E=A.y+A.ny,y=u+(D-u)*.5,z=v+(E-v)*.5,a.quadraticCurveTo(u,v,i,j));r=this.particles[0],b=this.THICKNESS*cos(r.angle+HALF_PI),c=this.THICKNESS*sin(r.angle+HALF_PI),a.bezierCurveTo(r.x+r.nx-b,r.y+r.ny-c,r.x+r.mx-b,r.y+r.my-c,f,h),a.lineTo(f,h),a.stroke()}if(this.mode===3){a.beginPath();for(d=N=0,S=this.NUM_PARTICLES-1;0<=S?N<S:N>S;d=0<=S?++N:--N)r=this.particles[d],m=this.particles[d+1],A=this.particles[d-1],s=r.x+r.mx,t=r.y+r.my,n=m.x+m.mx,o=m.y+m.my,e=s+(n-s)*.5,g=t+(o-t)*.5,a.arc(e,g,2,0,TWO_PI),u=r.x+r.nx,v=r.y+r.ny,p=m.x+m.nx,q=m.y+m.ny,i=u+(p-u)*.5,j=v+(q-v)*.5,d!==0&&(B=A.x+A.mx,C=A.y+A.my,w=s+(B-s)*.5,x=t+(C-t)*.5,a.moveTo(w,x),a.quadraticCurveTo(s,t,e,g),D=A.x+A.nx,E=A.y+A.ny,y=u+(D-u)*.5,z=v+(E-v)*.5,a.moveTo(y,z),a.quadraticCurveTo(u,v,i,j)),a.moveTo(e,g),a.lineTo(i,j);return a.stroke()}},keydown:function(){if(a.keys.SPACE)return this.switchMode()},click:function(){},touchend:function(){var b;b=a.touches[0];if(b.ox===b.x&&b.oy===b.y)return this.switchMode()},switchMode:function(){var a,b,c,d,e,f,g,h,i,j;this.mode<this.NUM_MODES-1?this.mode++:this.mode=0;switch(this.mode){case 1:this.DISTANCE=20,this.THICKNESS=10;for(a=c=0,g=this.NUM_PARTICLES;0<=g?c<g:c>g;a=0<=g?++c:--c)b=this.particles[a],b.thickness=this.THICKNESS*((a-this.NUM_PARTICLES)/this.NUM_PARTICLES);break;case 2:this.DISTANCE=30,this.THICKNESS=20;for(a=d=0,h=this.NUM_PARTICLES;0<=h?d<h:d>h;a=0<=h?++d:--d)b=this.particles[a],b.thickness=this.THICKNESS*(Math.abs(a-this.NUM_PARTICLES*.5)/this.NUM_PARTICLES);break;case 3:this.DISTANCE=40,this.THICKNESS=30;for(a=e=0,i=this.NUM_PARTICLES;0<=i?e<i:e>i;a=0<=i?++e:--e)b=this.particles[a],b.thickness=this.THICKNESS*(Math.abs(a-this.NUM_PARTICLES*.5)/this.NUM_PARTICLES);break;default:this.DISTANCE=30,this.THICKNESS=20;for(a=f=0,j=this.NUM_PARTICLES;0<=j?f<j:f>j;a=0<=j?++f:--f)b=this.particles[a],a<this.NUM_PARTICLES*.5?b.thickness=this.THICKNESS*(a/this.NUM_PARTICLES):b.thickness=this.THICKNESS*((this.NUM_PARTICLES-a)/this.NUM_PARTICLES)}return this.DISTANCE_SQ=this.DISTANCE*this.DISTANCE},initParticles:function(){var b,c,d,e,f;f=[];for(b=d=0,e=this.NUM_PARTICLES;0<=e?d<e:d>e;b=0<=e?++d:--d)c={x:a.width*.2+sin(b*.1)*this.DISTANCE*b,y:a.height*.5+cos(b*.1)*this.DISTANCE*b,vx:0,vy:0,angle:0,thickness:0,mx:0,my:0,nx:0,ny:0},b<this.NUM_PARTICLES*.5?c.thickness=this.THICKNESS*(b/this.NUM_PARTICLES):c.thickness=this.THICKNESS*((this.NUM_PARTICLES-b)/this.NUM_PARTICLES),f.push(this.particles.push(c));return f}})},a()})).call(this)